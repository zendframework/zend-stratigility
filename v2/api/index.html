<!DOCTYPE html>
<html lang="en">


<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="zend-stratigility">  
    <link rel="shortcut icon" href="../../img/favicon.ico">

    <title>API Reference - zend-stratigility</title>

    <link rel="stylesheet" href="../../css/styles-f773ae3616.css">
</head>
<body id="page-top">

    
    <div class="navbar navbar-default" role="navigation">
    <div class="container">
        <div class="navbar-header">

            
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            
            <span class="navbar-brand">
                <a class="logo-link" href="https://framework.zend.com/" data-tooltip data-placement="bottom" title="Go to the ZF homepage">
                    <img src="../../img/zend-framework-logo.svg" height="28" alt="Zend Framework">
                </a>
            </span>
        </div>

        <div class="navbar-collapse collapse">

            
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="https://framework.zend.com/about">About</a>
                </li>
                <li>
                    <a href="https://framework.zend.com/downloads">Install</a>
                </li>
                <li class="active">
                    <a href="https://docs.zendframework.com">Documentation</a>
                </li>
                <li>
                    <a href="https://www.zend.com/en/services/training">Training</a>
                </li>
                <li>
                    <a href="https://framework.zend.com/blog">Blog</a>
                </li>
                <li>
                    <a href="https://framework.zend.com/participate">Participate</a>
                </li>
            </ul>

            
            
                <div class="nav navbar-nav navbar-collapse visible-xs-block ">
                    
    <div class="subnavigation hidden-print">
        <h4 class="subnavigation__title">
            <a href="../..">zend-stratigility</a>
        </h4>

        <h5 class="subnavigation__subtitle">Table of Contents</h5>

        <ul class="subnavigation__list">
            
                
                    <li class="subnavigation__list-item ">
                        <a href="../../v3/intro/" class="subnavigation__link">Intro</a>
                    </li>
                
            
                
                    <li class="subnavigation__list-item">
                        <span class="subnavigation__headline">Reference</span>
                        <ul class="subnavigation__list">
                            
                                
    <li class="subnavigation__list-item ">
        <a href="../../v3/install/" class="subnavigation__link">Installation and Requirements</a>
    </li>

                            
                                
    <li class="subnavigation__list-item ">
        <a href="../../v3/usage/" class="subnavigation__link">Usage</a>
    </li>

                            
                                
    <li class="subnavigation__list-item ">
        <a href="../../v3/middleware/" class="subnavigation__link">Middleware</a>
    </li>

                            
                                
    <li class="subnavigation__list-item ">
        <a href="../../v3/error-handlers/" class="subnavigation__link">Error Handlers</a>
    </li>

                            
                                
    <li class="subnavigation__list-item ">
        <a href="../../v3/creating-middleware/" class="subnavigation__link">Creating Middleware</a>
    </li>

                            
                                
    <li class="subnavigation__list-item ">
        <a href="../../v3/executing-middleware/" class="subnavigation__link">Composing middleware</a>
    </li>

                            
                                
    <li class="subnavigation__list-item ">
        <a href="../../v3/api/" class="subnavigation__link">API Reference</a>
    </li>

                            
                                
    <li class="subnavigation__list-item ">
        <a href="../../v3/migration/" class="subnavigation__link">Migration</a>
    </li>

                            
                        </ul>
                    </li>
                
            
                
                    <li class="subnavigation__list-item">
                        <span class="subnavigation__headline">v1</span>
                        <ul class="subnavigation__list">
                            
                                
    <li class="subnavigation__list-item ">
        <a href="../../v1/install/" class="subnavigation__link">Installation and Requirements</a>
    </li>

                            
                                
    <li class="subnavigation__list-item ">
        <a href="../../v1/usage/" class="subnavigation__link">Usage</a>
    </li>

                            
                                
    <li class="subnavigation__list-item ">
        <a href="../../v1/middleware/" class="subnavigation__link">Middleware</a>
    </li>

                            
                                
    <li class="subnavigation__list-item ">
        <a href="../../v1/error-handlers/" class="subnavigation__link">Error Handlers</a>
    </li>

                            
                                
    <li class="subnavigation__list-item ">
        <a href="../../v1/creating-middleware/" class="subnavigation__link">Creating Middleware</a>
    </li>

                            
                                
    <li class="subnavigation__list-item ">
        <a href="../../v1/executing-middleware/" class="subnavigation__link">Executing and composing middleware</a>
    </li>

                            
                                
    <li class="subnavigation__list-item ">
        <a href="../../v1/api/" class="subnavigation__link">API Reference</a>
    </li>

                            
                        </ul>
                    </li>
                
            
                
                    <li class="subnavigation__list-item">
                        <span class="subnavigation__headline">v2</span>
                        <ul class="subnavigation__list">
                            
                                
    <li class="subnavigation__list-item ">
        <a href="../install/" class="subnavigation__link">Installation and Requirements</a>
    </li>

                            
                                
    <li class="subnavigation__list-item ">
        <a href="../usage/" class="subnavigation__link">Usage</a>
    </li>

                            
                                
    <li class="subnavigation__list-item ">
        <a href="../middleware/" class="subnavigation__link">Middleware</a>
    </li>

                            
                                
    <li class="subnavigation__list-item ">
        <a href="../error-handlers/" class="subnavigation__link">Error Handlers</a>
    </li>

                            
                                
    <li class="subnavigation__list-item ">
        <a href="../creating-middleware/" class="subnavigation__link">Creating Middleware</a>
    </li>

                            
                                
    <li class="subnavigation__list-item ">
        <a href="../executing-middleware/" class="subnavigation__link">Executing and composing middleware</a>
    </li>

                            
                                
    <li class="subnavigation__list-item subnavigation__list-item--active">
        <a href="./" class="subnavigation__link">API Reference</a>
    </li>

                            
                                
    <li class="subnavigation__list-item ">
        <a href="../migration/" class="subnavigation__link">Migration</a>
    </li>

                            
                        </ul>
                    </li>
                
            
        </ul>
    </div>

                </div>
            

            
            <div class="nav navbar-nav navbar-collapse visible-xs-block">
                <div class="component-selector">
    <h4 class="component-selector__title">Components</h4>
    <h5 class="component-selector__subtitle">Find documentation…</h5>
    <select class="form-control component-selector__control">
        <option value="/">Overview</option>
        <optgroup label="Components"></optgroup>
    </select>
</div>
            </div>
        </div>
    </div>
</div>

    
    <header class="header">
    <div class="container">
        <div class="row">

            
            <div class="col-xs-8">
                <h1 class="header__title">
                    Documentation

                    
                        <small class="header__subtitle">zend-stratigility</small>
                    
                </h1>
            </div>

            
            <div class="col-xs-4 text-right">
                
                    <a href="#" class="header__link header__link--search" data-toggle="modal" data-target="#mkdocs_search_modal" title="Open search">
                        <i class="fa fa-search"></i> Search
                    </a>
                    <a href="https://github.com/zendframework/zend-stratigility/" class="header__link header__link--github" title="Go to repository of zend-stratigility">
                        <i class="fa fa-github"></i> GitHub
                    </a>
                
            </div>
        </div>
    </div>
</header>

    
    <div class="container">
        <div class="row">
            <div class="col-md-9 col-xs-12 content" role="main">
            <!-- content:begin -->
                
                    <ol class="breadcrumb" role="navigation" aria-label="breadcrumbs navigation">
  <li><a href="https://framework.zend.com/">Home</a></li>
  <li><a href="https://docs.zendframework.com/">Docs</a></li>
  <li><a href="../..">zend-stratigility</a></li>
  
    
      
        <li>v2</li>
      
    
  
  <li class="active">API Reference</li>
</ol>


    
    

    
    
        <div class="toc">
            <h6 class="toc__headline">In This Article</h6>
            <ul class="toc__list">
                
                    <li class="toc__entry">
                        <a href="#middleware" class="toc__link">Middleware</a>
                    </li>
                
                    <li class="toc__entry">
                        <a href="#next" class="toc__link">Next</a>
                    </li>
                
                    <li class="toc__entry">
                        <a href="#middleware_1" class="toc__link">Middleware</a>
                    </li>
                
                    <li class="toc__entry">
                        <a href="#middleware-decorators" class="toc__link">Middleware Decorators</a>
                    </li>
                
                    <li class="toc__entry">
                        <a href="#delegates" class="toc__link">Delegates</a>
                    </li>
                
            </ul>
        </div>
    


    <h1 id="api-reference">API Reference</h1>
<p>The following make up the primary API of Stratigility.</p>
<h2 id="middleware">Middleware</h2>
<p><code>Zend\Stratigility\MiddlewarePipe</code> is the primary application interface, and
has been discussed previously. Its API is:</p>
<pre class="codehilite"><code class="language-php">namespace Zend\Stratigility;

use Interop\Http\ServerMiddleware\DelegateInterface;
use Interop\Http\ServerMiddleware\MiddlewareInterface as ServerMiddlewareInterface;
use Psr\Http\Message\ResponseInterface;
use Psr\Http\Message\ServerRequestInterface;

class MiddlewarePipe implements ServerMiddlewareInterface
{
    public function pipe(
        string|callable|ServerMiddlewareInterface $path,
        callable|ServerMiddlewareInterface $middleware = null
    );

    public function __invoke(
        ServerRequestInterface $request,
        ResponseInterface $response,
        $delegate
    ) : ResponseInterface;

    public function process(
        ServerRequestInterface $request,
        DelegateInterface $delegate
    ) : ResponseInterface;
}</code></pre>

<p><code>pipe()</code> takes up to two arguments. If only one argument is provided,
<code>$middleware</code> will be assigned that value, and <code>$path</code> will be re-assigned to
the value <code>/</code>; this is an indication that the <code>$middleware</code> should be invoked
for any path. If <code>$path</code> is provided, the <code>$middleware</code> will only be executed
for that path and any subpaths.</p>
<blockquote>
<h3 id="request-path-changes-when-path-matched">Request path changes when path matched</h3>
<p>When you pipe middleware using a path (other than '' or '/'), the middleware
is dispatched with a request that strips the matched segment(s) from the start
of the path.</p>
<p>If, for example, you executed <code>$pipeline-&gt;pipe('/api', $api)</code>, and this was
matched via a URI with the path <code>/api/users/foo</code>, the <code>$api</code> middleware will
receive a request with the path <code>/users/foo</code>. This allows middleware
segregated by path to be re-used without changes to its own internal routing.</p>
</blockquote>
<p>Middleware is executed in the order in which it is piped to the
<code>MiddlewarePipe</code> instance.</p>
<p>The <code>MiddlewarePipe</code> is itself middleware, and can be executed in stacks that
expect the <code>__invoke()</code> signature (via the <code>__invoke()</code> signature), or stacks
expecting http-interop middleware signatures (via the <code>process()</code> method).</p>
<p>When using <code>__invoke()</code>, the callable <code>$out</code> argument should either implement
delegator/request handler interface from <code>http-interop/http-middleware</code>
(depends on version you are using), or use the signature:</p>
<pre class="codehilite"><code class="language-php">use Psr\Http\Message\ResponseInterface;
use Psr\Http\Message\ServerRequestInterface;

function (
    ServerRequestInterface $request,
    ResponseInterface $response
) : ResponseInterface</code></pre>

<p>Most often, you can pass an instance of <code>Zend\Stratigility\NoopFinalHandler</code> for
<code>$out</code> if invoking a middleware pipeline manually; otherwise, a suitable
callback will be provided for you (typically an instance of
<code>Zend\Stratigility\Next</code>, which <code>MiddlewarePipe</code> creates internally before
dispatching to the various middleware in its pipeline).</p>
<p>Middleware should either return a response, or the result of
<code>$next()/DelegateInterface::process()/RequestHandlerInterface::handle()</code>
(which should eventually evaluate to a response instance).</p>
<p>Within Stratigility, <code>Zend\Stratigility\Next</code> provides an implementation
compatible with either usage.</p>
<p><code>MiddlewarePipe</code> implements the http-interop/http-middleware server-side
middleware interface, and thus provides a <code>process()</code> method. This method
requires a <code>ServerRequestInterface</code> instance and an http-interop/http-middleware
<code>DelegateInterface</code> instance on invocation; the latter can be a <code>Next</code> instance,
as it also implements that interface.</p>
<p>Internally, for both <code>__invoke()</code> and <code>process()</code>, <code>MiddlewarePipe</code> creates an
instance of <code>Zend\Stratigility\Next</code> (feeding it its queue), executes it, and
returns its response.</p>
<h3 id="response-prototype">Response prototype</h3>
<p>You may compose a "response prototype" in the <code>MiddlewarePipe</code>. When present,
any callable middleware piped to the instance will be wrapped in a decorator
(see the <a href="#middleware-decorators">section on middleware decorators</a>, below) such
that it will now conform to http-interop middleware interfaces.</p>
<p>To use this functionality, inject the prototype before piping middleware:</p>
<pre class="codehilite"><code class="language-php">$pipeline = new MiddlewarePipe();
$pipeline-&gt;setResponsePrototype(new Response());</code></pre>

<h2 id="next">Next</h2>
<p><code>Zend\Stratigility\Next</code> is primarily an implementation detail of middleware,
and exists to allow delegating to middleware registered later in the stack. It
is implemented both as a functor and as an http-interop/http-middleware
<code>DelegateInterface</code>.</p>
<h3 id="functor-invocation">Functor invocation</h3>
<p>Because <code>Psr\Http\Message</code>'s interfaces are immutable, if you make changes to
your Request and/or Response instances, you will have new instances, and will
need to make these known to the next middleware in the chain. <code>Next</code> expects
these arguments for every invocation.</p>
<pre class="codehilite"><code class="language-php">class Next
{
    public function __invoke(
        Psr\Http\Message\ServerRequestInterface $request,
        Psr\Http\Message\ResponseInterface $response
    ) : Psr\Http\Message\ResponseInterface;
}</code></pre>

<p>You should <strong>always</strong> either capture or return the return value of <code>$next()</code>
when calling it in your application, or return a response yourself.</p>
<blockquote>
<h3 id="response-argument">$response argument</h3>
<p>Using the <code>$response</code> argument is unsafe when using delegation, as an inner
layer could return an entirely different response, ignoring any changes you
may have introduced previously. Additionally, when manipulating the response
from an inner layer, you may be inheriting unwanted context.</p>
<p>As such, we recommend ignoring the <code>$response</code> argument and doing one of the
following:</p>
<ul>
<li>For innermost middleware that will be returning a response without
  delegation, we recommend instantiating and returning a concrete
  response instance. <a href="https://docs.zendframework.com/zend-diactoros/custom-responses/">Diactoros provides a number of convenient custom responses</a>.</li>
<li>For middleware delegating to another layer, operate on the <em>returned</em>
  response instead:</li>
</ul>
<pre class="codehilite"><code class="language-php">$response = $next($request, $response);
return $response-&gt;withHeader('X-Foo', 'Bar');</code></pre>

</blockquote>
<h3 id="delegate-invocation">Delegate invocation</h3>
<p>When invoked as a <code>DelegateInterface</code>, the <code>process()</code> method will be invoked, and
passed a <code>ServerRequestInterface</code> instance <em>only</em>. If you need to return a response,
you will need to:</p>
<ul>
<li>Compose a response prototype in the middleware to use to build a response, or a
  canned response to return, OR</li>
<li>Create and return a concrete response type, OR</li>
<li>Operate on a response returned by invoking the delegate.</li>
</ul>
<h3 id="providing-an-altered-request">Providing an altered request:</h3>
<pre class="codehilite"><code class="language-php">// Standard invokable:
function ($request, $response, $next) use ($bodyParser)
{
    $bodyParams = $bodyParser($request);
    return $next(
        $request-&gt;withBodyParams($bodyParams), // Next will pass the new
        $response                              // request instance
    );
}

// http-interop invokable:
function ($request, DelegateInterface $delegate) use ($bodyParser)
{
    $bodyParams = $bodyParser($request);

    // Delegate will receive the new request instance:
    return $delegate-&gt;process(
        $request-&gt;withBodyParams($bodyParams)
    );
}</code></pre>

<h3 id="providing-an-altered-request-and-operating-on-the-returned-response">Providing an altered request and operating on the returned response:</h3>
<pre class="codehilite"><code class="language-php">function ($request, $response, $next) use ($bodyParser)
{
    $response = $next(
        $request-&gt;withBodyParams($bodyParser($request)),
        $response
    );

    return $response-&gt;withAddedHeader('Cache-Control', [
}

// http-interop invokable:
function ($request, DelegateInterface $delegate) use ($bodyParser)
{
    $bodyParams = $bodyParser($request);

    // Provide a new request instance to the delegate:
    return $delegate-&gt;process(
        $request-&gt;withBodyParams($bodyParams)
    );
}</code></pre>

<h3 id="returning-a-response-to-complete-the-request">Returning a response to complete the request</h3>
<p>If your middleware does not need to delegate to another layer, it's time to
return a response.</p>
<p>While we pass a response when using <code>Next</code> as a functor, we recommend creating
a new response, or providing your middleware with a response prototype; this
will ensure that the response is specific for your context.</p>
<pre class="codehilite"><code class="language-php">$prototype = new Response();

// Standard invokable signature:
function ($request, $response, $next) use ($prototype)
{
    $response = $prototype-&gt;withAddedHeader('Cache-Control', [
        'public',
        'max-age=18600',
        's-maxage=18600',
    ]);

    return $response;
}

// http-interop invokable signature:
function ($request, DelegateInterface $delegate) use ($prototype)
{
    $response = $prototype-&gt;withAddedHeader('Cache-Control', [
        'public',
        'max-age=18600',
        's-maxage=18600',
    ]);
}</code></pre>

<h3 id="delegation">Delegation</h3>
<p>If your middleware is not capable of returning a response, or a particular path
in the middleware cannot return a response, return the result of executing the
delegate.</p>
<p>If using the legacy middleware signature, invoke the <code>$next</code> argument:</p>
<pre class="codehilite"><code class="language-php">return $next($request, $response);</code></pre>

<p>If using a <code>DelegateInterface</code>, invoke its <code>process()</code> method:</p>
<pre class="codehilite"><code class="language-php">return $delegate-&gt;process($request);</code></pre>

<p><strong>Middleware should always return a response, and, if it cannot, return the
result of delegation.</strong></p>
<h3 id="raising-an-error-condition">Raising an error condition</h3>
<p>If your middleware cannot complete &mdash; perhaps a database error occurred, a
service was unreachable, etc. &mdash; how can you report the error?</p>
<p>Raise an exception!</p>
<pre class="codehilite"><code class="language-php">function ($request, $response, $next) use ($service)
{
    $result = $service-&gt;fetchSomething();
    if (! $result-&gt;isSuccess()) {
        throw new RuntimeException('Error fetching something');
    }

    /* ... otherwise, complete the request ... */
}</code></pre>

<p>Use the <a href="../error-handlers/#handling-php-errors-and-exceptions">ErrorHandler middleware</a>
to handle exceptions thrown by your middleware and report the error condition to
your users.</p>
<h2 id="middleware_1">Middleware</h2>
<p>Stratigility provides several concrete middleware implementations.</p>
<h4 id="errorhandler-and-notfoundhandler">ErrorHandler and NotFoundHandler</h4>
<p>These two middleware allow you to provide handle PHP errors and exceptions, and
404 conditions, respectively. You may read more about them in the
<a href="../error-handlers/">error handling chapter</a>.</p>
<h3 id="originalmessages">OriginalMessages</h3>
<p>This callable middleware can be used as the outermost layer of middleware in
order to set the original request, URI, and response instances as request
attributes for inner layers. See the <a href="../migration/#original-request-response-and-uri">migration chapter</a>
for more details.</p>
<h2 id="middleware-decorators">Middleware Decorators</h2>
<p>Within <code>MiddlewarePipe</code>, if a response prototype is composed, callable
middleware piped to the instance will be wrapped in a decorator.</p>
<p>Two versions exist:</p>
<ul>
<li><code>Zend\Stratigility\Middleware\CallableMiddlewareWrapper</code> will wrap a callable
  using the legacy interface; as such, it also requires a response instance:</li>
</ul>
<pre class="codehilite"><code class="language-php">$middleware = new CallableMiddlewareWrapper($middleware, $response);</code></pre>

<ul>
<li><code>Zend\Stratigility\Middleware\CallableMiddlewareWrapper</code> will wrap a callable
  that defines exactly two arguments, with the second type-hinting on the
  http-interop/http-middleware <code>DelegateInterface</code>:</li>
</ul>
<pre class="codehilite"><code class="language-php">$middleware = new CallableMiddlewareWrapper(
  function ($request, DelegateInterface $delegate) {
      // ...
  }
);</code></pre>

<p>You can manually decorate callable middleware using these decorators, or simply
let <code>MiddlewarePipe</code> do the work for you. To let <code>MiddlewarePipe</code> handle this,
however, you <em>must</em> compose a response prototype prior to piping middleware
using the legacy middleware signature.</p>
<h2 id="delegates">Delegates</h2>
<p>In addition to <code>Zend\Stratigility\Next</code>, Stratigility provides another
http-interop/http-middleware <code>DelegateInterface</code> implementation,
<code>Zend\Stratigility\Delegate\CallableDelegateDecorator</code>.</p>
<p>This class can be used to wrap a callable <code>$next</code> instance for use in passing to
an http-interop/http-middleware middleware interface <code>process()</code> method as a
delegate; the primary use case is adapting functor middleware to work as
http-interop middleware.</p>
<p>As an example:</p>
<pre class="codehilite"><code class="language-php">// http-interop/http-middleware 0.2:
use Interop\Http\Middleware\DelegateInterface;
use Interop\Http\Middleware\ServerMiddlewareInterface;

// http-interop/http-middleware 0.4.1:
use Interop\Http\ServerMiddleware\DelegateInterface;
use Interop\Http\ServerMiddleware\MiddlewareInterface as ServerMiddlewareInterface;

use Psr\Http\Message\ResponseInterface;
use Psr\Http\Message\ServerRequestInterface;
use Zend\Stratigility\Delegate\CallableDelegateDecorator;

class TimestampMiddleware implements ServerMiddlewareInterface
{
    public function __invoke(
        ServerRequestInterface $request,
        ResponseInterface $response,
        callable $next
    ) {
        return $this-&gt;process($request, new CallableDelegateDecorator($next, $response));
    }

    public function process(
        ServerRequestInterface $request,
        DelegateInterface $delegate
    ) {
        $response = $delegate-&gt;process($request);
        return $response-&gt;withHeader('X-Processed-Timestamp', time());
    }
}</code></pre>



    <nav>
    <ul class="page-nav hidden-print">

        
        <li class="page-nav__item">
            
                <a rel="prev" class="page-nav__link page-nav__link--prev" href="../executing-middleware/">
                    <i class="fa fa-chevron-left"></i> Previous
                </a>
            
        </li>

        
        <li class="page-nav__item">
            
                <a rel="next" class="page-nav__link page-nav__link--next" href="../migration/">
                    Next <i class="fa fa-chevron-right"></i>
                </a>
            
        </li>
    </ul>
</nav>


<div class="help-wanted">
    <p>
        Found a mistake or want to contribute to the documentation?
        <a href="https://github.com/zendframework/zend-stratigility/edit/master/docs/book/v2/api.md" target="_blank" class="help-wanted__link">
            Edit this page on GitHub!
        </a>
    </p>
</div>
                
            <!-- content:end -->
            </div>
            <div class="col-md-3 col-xs-12 sidebar">
                
                    <div class="component-selector">
    <h4 class="component-selector__title">Components</h4>
    <h5 class="component-selector__subtitle">Find documentation…</h5>
    <select class="form-control component-selector__control">
        <option value="/">Overview</option>
        <optgroup label="Components"></optgroup>
    </select>
</div>
                    
    <div class="subnavigation hidden-print">
        <h4 class="subnavigation__title">
            <a href="../..">zend-stratigility</a>
        </h4>

        <h5 class="subnavigation__subtitle">Table of Contents</h5>

        <ul class="subnavigation__list">
            
                
                    <li class="subnavigation__list-item ">
                        <a href="../../v3/intro/" class="subnavigation__link">Intro</a>
                    </li>
                
            
                
                    <li class="subnavigation__list-item">
                        <span class="subnavigation__headline">Reference</span>
                        <ul class="subnavigation__list">
                            
                                
    <li class="subnavigation__list-item ">
        <a href="../../v3/install/" class="subnavigation__link">Installation and Requirements</a>
    </li>

                            
                                
    <li class="subnavigation__list-item ">
        <a href="../../v3/usage/" class="subnavigation__link">Usage</a>
    </li>

                            
                                
    <li class="subnavigation__list-item ">
        <a href="../../v3/middleware/" class="subnavigation__link">Middleware</a>
    </li>

                            
                                
    <li class="subnavigation__list-item ">
        <a href="../../v3/error-handlers/" class="subnavigation__link">Error Handlers</a>
    </li>

                            
                                
    <li class="subnavigation__list-item ">
        <a href="../../v3/creating-middleware/" class="subnavigation__link">Creating Middleware</a>
    </li>

                            
                                
    <li class="subnavigation__list-item ">
        <a href="../../v3/executing-middleware/" class="subnavigation__link">Composing middleware</a>
    </li>

                            
                                
    <li class="subnavigation__list-item ">
        <a href="../../v3/api/" class="subnavigation__link">API Reference</a>
    </li>

                            
                                
    <li class="subnavigation__list-item ">
        <a href="../../v3/migration/" class="subnavigation__link">Migration</a>
    </li>

                            
                        </ul>
                    </li>
                
            
                
                    <li class="subnavigation__list-item">
                        <span class="subnavigation__headline">v1</span>
                        <ul class="subnavigation__list">
                            
                                
    <li class="subnavigation__list-item ">
        <a href="../../v1/install/" class="subnavigation__link">Installation and Requirements</a>
    </li>

                            
                                
    <li class="subnavigation__list-item ">
        <a href="../../v1/usage/" class="subnavigation__link">Usage</a>
    </li>

                            
                                
    <li class="subnavigation__list-item ">
        <a href="../../v1/middleware/" class="subnavigation__link">Middleware</a>
    </li>

                            
                                
    <li class="subnavigation__list-item ">
        <a href="../../v1/error-handlers/" class="subnavigation__link">Error Handlers</a>
    </li>

                            
                                
    <li class="subnavigation__list-item ">
        <a href="../../v1/creating-middleware/" class="subnavigation__link">Creating Middleware</a>
    </li>

                            
                                
    <li class="subnavigation__list-item ">
        <a href="../../v1/executing-middleware/" class="subnavigation__link">Executing and composing middleware</a>
    </li>

                            
                                
    <li class="subnavigation__list-item ">
        <a href="../../v1/api/" class="subnavigation__link">API Reference</a>
    </li>

                            
                        </ul>
                    </li>
                
            
                
                    <li class="subnavigation__list-item">
                        <span class="subnavigation__headline">v2</span>
                        <ul class="subnavigation__list">
                            
                                
    <li class="subnavigation__list-item ">
        <a href="../install/" class="subnavigation__link">Installation and Requirements</a>
    </li>

                            
                                
    <li class="subnavigation__list-item ">
        <a href="../usage/" class="subnavigation__link">Usage</a>
    </li>

                            
                                
    <li class="subnavigation__list-item ">
        <a href="../middleware/" class="subnavigation__link">Middleware</a>
    </li>

                            
                                
    <li class="subnavigation__list-item ">
        <a href="../error-handlers/" class="subnavigation__link">Error Handlers</a>
    </li>

                            
                                
    <li class="subnavigation__list-item ">
        <a href="../creating-middleware/" class="subnavigation__link">Creating Middleware</a>
    </li>

                            
                                
    <li class="subnavigation__list-item ">
        <a href="../executing-middleware/" class="subnavigation__link">Executing and composing middleware</a>
    </li>

                            
                                
    <li class="subnavigation__list-item subnavigation__list-item--active">
        <a href="./" class="subnavigation__link">API Reference</a>
    </li>

                            
                                
    <li class="subnavigation__list-item ">
        <a href="../migration/" class="subnavigation__link">Migration</a>
    </li>

                            
                        </ul>
                    </li>
                
            
        </ul>
    </div>

                
            </div>
        </div>
    </div>

    
    <footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-9">
                <h5>Zend Framework</h5>
                <ul>
                    <li><a href="https://framework.zend.com/">framework.zend.com</a></li>
                    <li><a href="https://docs.zendframework.com">docs.zendframework.com</a></li>
                    <li><a href="https://packages.zendframework.com">packages.zendframework.com</a></li>
                    <li><a href="https://apigility.org">apigility.org</a></li>
                    <li><a href="https://getexpressive.org/">getexpressive.org</a></li>
                </ul>
            </div>
        </div>

        
        <div class="row">
            <div class="col-md-12 text-center">
                <a class="footer__button" href="#page-top"><i class="fa fa-chevron-up" aria-hidden="true"></i></a>
            </div>
        </div>

        <div class="row">

            
            <div class="col-md-9">
                <h4 class="footer__headline">Copyright</h4>
                <p>&copy; 2006-2018 by <a href="https://www.zend.com/">Zend</a>, a <a href="https://www.roguewave.com/">Rogue Wave Company</a>.</p>
            </div>

            
            <div class="col-md-3">
                <h4 class="footer__headline">Support</h4>
                <ul class="support__list">
                    <li class="support__list-item">
                        <a href="https://discourse.zendframework.com" class="support__link" title="Forum"><i class="fa fa-comments"></i></a>
                    </li>
                    <li class="support__list-item">
                        <a href="https://zendframework-slack.herokuapp.com" class="support__link" title="Chat"><i class="fa fa-slack"></i></a>
                    </li>
                    <li class="support__list-item">
                        <a href="https://github.com/zendframework" class="support__link" title="Github"><i class="fa fa-github"></i></a>
                    </li>
                    <li class="support__list-item">
                        <a href="https://twitter.com/zfdevteam" class="support__link" title="Twitter"><i class="fa fa-twitter"></i></a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</footer>

    <script>
        var base_url = '../..',
            siteName = 'zend-stratigility';
    </script>
    <script src="../../js/scripts-5141b2abfe.js"></script>
        <script src="../../search/require.js"></script>
        <script src="../../search/search.js"></script>

    
    <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">
                        <span aria-hidden="true">&times;</span>
                        <span class="sr-only">Close</span>
                    </button>
                    <h4 class="modal-title" id="exampleModalLabel">Search</h4>
                </div>
                <div class="modal-body">
                    <p>
                        From here you can search these documents. Enter your search terms below.
                    </p>
                    <form role="form">
                        <div class="form-group">
                            <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                        </div>
                    </form>
                    <div id="mkdocs-search-results"></div>
                </div>
                <div class="modal-footer">
                </div>
            </div>
        </div>
    </div>



</body>


</html>
